#-------------------------| Activate rewrite |---------------------- 

RewriteEngine On

#-------------------------|  WWW. => // |----------------------  

RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteRule ^(.*)$ http://%1/$1 [R=301,L]

#-------------------------|  HTTP => HTTPS |----------------------  
    # Only redirect to https if the final hostname not is .dev, .test or localhost

RewriteCond %{HTTP_HOST} !^(.*)(\.test|\.dev|localhost)$ [NC]
RewriteCond %{HTTPS} !on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

#------------|  FRONT CONTROLLER STATICS SCAPE |------------------  

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

#------------|  FRONT CONTROLLER TO ROOT / |-----------------------

RewriteRule ^(.*)$ /?url=$1 [QSA]

#------------|  FRONT CONTROLLER TO FOLDER app/ |-----------------------
    # For folder with name for example app/ descomment and redirect to /app/?url=$1 [QSA]

# RewriteCond %{REQUEST_URI} app
# RewriteRule ^(.*)$ /app/?url=$1 [QSA]